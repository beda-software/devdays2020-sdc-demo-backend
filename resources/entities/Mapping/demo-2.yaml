---
resourceType: Mapping
id: demo-2
body:
  type: transaction
  resourceType: Bundle
  entry:
    - request:
        url: "$ \"/Patient/\" + fhirpath(\"QuestionnaireResponse.repeat(item).where(linkId='patientId').answer.children().string\").0"
        method: PATCH
      resource:
        resourceType: Patient
        telecom:
        - system: 'phone'
          use: 'mobile'
          value: $ fhirpath("QuestionnaireResponse.repeat(item).where(linkId='phone-group').item.where(linkId='phone-number').answer.value.string").0
        - system: 'phone'
          use: 'home'
          value: $ fhirpath("QuestionnaireResponse.repeat(item).where(linkId='phone-group').item.where(linkId='phone-number').answer.value.string").0
